{% extends "base.html" %}

{% block title %}Index{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="css/awesomplete.css">
    <style>
        .box { height: 100%; }
    </style>

    <script src="js/awesomplete.min.js"></script>
    <script src="js/index.js"></script>
    <script src="js/jsplumb.min.js"></script>
{% endblock %}

{% block content %}
<section class="hero is-primary">
    <div class="hero-body">
        <div class="container">
            <h1 class="title">
                Search
            </h1>
            <p class="subtitle">
                Search for an instance type below to find out more!
            </p>
        </div>
    </div>
</section>
<br />

<div class="container content">
    <div class="field">
        <p class="control has-icons-left">
            <input
                class="input"
                id="instance-type-search"
                placeholder="Enter instance type (e.g. t3.micro)"
            />
            <span class="icon is-left">
                <i class="mdi mdi-magnify" aria-hidden="true"></i>
            </span>
        </p>
    </div>

    <datalist id="instance_typess">
        {% for instance in instance_types -%}
            <option>{{ instance }}</option>
        {%- endfor %}
    </datalist>
</div>

<div class="container content">
    <div id="decoder"></div>

    <div class="columns">
        <div class="column">
            <div class="box">
                <p class="subtitle">
                    <span class="icon">
                        <i class="mdi mdi-clipboard-text" aria-hidden="true"></i>
                    </span>
                    Overview
                </p>
                <p class="content" id="details"></p>
            </div>
        </div>
        <div class="column">
            <div class="box">
                <p class="subtitle">
                    <span class="icon">
                        <i class="mdi mdi-memory" aria-hidden="true"></i>
                    </span>
                    CPU
                </p>
                <p class="content" id="cpu"></p>
            </div>
        </div>
        <div class="column">
            <div class="box">
                    <p class="subtitle">
                        <span class="icon">
                            <i class="mdi mdi-chip" aria-hidden="true"></i>
                        </span>
                        Memory
                    </p>
                    <p class="content" id="memory"></p>
            </div>
        </div>
    </div>
    <div class="columns">
        <div class="column">
            <div class="box">
                <p class="subtitle">
                    <span class="icon">
                        <i class="mdi mdi-router-network" aria-hidden="true"></i>
                    </span>
                    Network
                </p>
                <p class="content" id="network"></p>
            </div>
        </div>
        <div class="column">
            <div class="box">
                <p class="subtitle">
                    <span class="icon">
                        <i class="mdi mdi-harddisk" aria-hidden="true"></i>
                    </span>
                    Storage
                </p>
                <p class="content" id="storage"></p>
            </div>
        </div>
        <div class="column">
            <div class="box">
                <p class="subtitle">
                    <span class="icon">
                        <i class="mdi mdi-expansion-card-variant" aria-hidden="true"></i>
                    </span>
                    Other Devices
                </p>
                <p class="content" id="notes"></p>
            </div>
        </div>
    </div>

    <div class="columns">
        <div class="column">
            <div class="box">
                <p class="subtitle">
                    <span class="icon">
                        <i class="mdi mdi-server" aria-hidden="true"></i>
                    </span>
                    Family Sizes
                </p>
                <div class="content" id="family"></div>
            </div>
        </div>
    </div>
</div>

<script>
var search = document.getElementById("instance-type-search")

new Awesomplete(search, {
    autoFirst: true,
    minChars: 1,
    list: "#instance_typess",
    sort: false
});
</script>
{% endblock %}
